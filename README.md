*singular* is a C++ library which provides functions and classes to perform [singular value decomposition (SVD)](https://en.wikipedia.org/wiki/Singular_value_decomposition).

[![Build Status](https://travis-ci.org/kikuomax/singular.svg?branch=master)](https://travis-ci.org/kikuomax/singular)

The goals of this reinvention are
 - Learning Francis's algorithm
 - Learning modern C++

Prerequisites
=============

You need the following software installed,
 - [CMake](https://cmake.org) 2.8.4 or higher
 - C++ compiler

Getting started
===============

*singular* consists of only header files.
The [CMake script](/CMakeLists.txt) does everything you need to install *singular*.

Please take the following steps,

 1. Clone the repository anywhere you like and move down to it.

	```shell
	git clone https://github.com/kikuomax/singular.git
	cd singular
	```

 2. Create a `build` directory and move down to it.

	```shell
	mkdir build
	cd build
	```

 3. Configure the project.
    Suppose you want to install *singular* into the directory `install-path`.

	```shell
	cmake -DCMAKE_INSTALL_PREFIX=install-path ..
	```

 4. Install headers.

    ```shell
	cmake --build . --target install
	```

 5. You will find the headers in the following directory,
     - `install-path/include/singular`

Creation of the `build` directory (step 2) is not necessary, but it prevents this directory being messy.

An [example program](/test/test.cpp) shows how to use *singular*.

Testing singular
================

If you have [googletest](https://code.google.com/p/googletest/) installed, unittests for *singular* are built by the CMake script as well.
You can run unittests by the following command after running the build step of *singular*,

```shell
ctest -V
```

pthread related errors
----------------------

With the following configuration, I got linker errors related to pthread.
 - Ubuntu 14.04.3
 - gcc 4.8.4
 - googletest 1.7.0

One solution is to add a `-pthread` compiler flag followed by other objects and libraries.
[This conversation](https://github.com/google/googletest/issues/391) may help you.
You can specify the `-pthread` flag at the configuration step like,

```shell
cmake -DCMAKE_CXX_FLAGS=-pthread ..
```

Another solution is to compile googletest without pthread.
This can be done by turning on the `gtest_disable_pthreads` option at the configuration of **googletest**.

```shell
cmake -Dgtest_disable_pthreads=on .
```

Generating documentation
========================

If you have [Doxygen](http://www.doxygen.org) installed, documentation of *singular* is generated by the CMake script as well.
You will find the `api` directory created by CMake.

License
=======

[MIT License](https://opensource.org/licenses/MIT)

References
==========

Most of the code is derived from the following great book.

 - Watkins, David S. *Fundamentals of Matrix Computations*. 3rd ed. Hoboken: John Wiley & Sons, 2010


Test results of SVD were generated at the following site.

 - http://www.bluebit.gr/matrix-calculator/
